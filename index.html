<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halloween Event</title>
    <link href="https://fonts.googleapis.com/css2?family=Kranky&display=swap" rel="stylesheet">
    <style>
        /* Basic styling */
        body {
            font-family: 'Kranky', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 0;
            background-color: #F0F0F0;
            cursor: default;
        }

        .main-image {
            margin-top: 50px;
        }

        .main-image img {
            display: block;
            margin: 0 auto;
            height: 500px;
        }

        .main-text {
            text-align: center;
            margin-top: 100px;
            font-size: 24px;
            color: #2e2b2d;
        }

        .text-margin {
            margin-bottom: 100px;
        }

        /* 카드 박스와 각 레이어의 위치 및 크기 조정 */
        .card {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1200px;
            margin-top: 400px;
            width: 200px;
            height: 280px;
        }

        .box {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transform: rotateX(-10deg);
        }

        .box__face {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-color: #ececec;
        }

        .box__front {
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/coolclub-front.png');
            transform: translateZ(15px);
        }

        .box__back {
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/coolclub-back-2.png');
            transform: rotateY(180deg) translateZ(15px);
        }

        .box__left {
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/coolclub-left.png');
            width: 30px;
            transform: rotateY(-90deg) translateZ(85px);
            left: -15px;
        }

        .box__right {
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/coolclub-right.png');
            width: 30px;
            transform: rotateY(90deg) translateZ(85px);
            right: -15px;
        }

        .box__bottom {
            background-color: #ececec;
            transform: rotateX(90deg) translateZ(85px);
            bottom: -15px;
        }

        .box__lid {
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/coolclub-logo-full.png');
            transform: rotateX(-90deg) translateZ(85px);
            top: -15px;
        }

        /* Cake inner with centered images */
        .cake_inner {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 100px;
        }

        .cake_inner img {
            max-width: 20%;
            margin: 10px 0;
        }

        /* 카드 레이어 위치 조정 */
        .card-layer {
            position: absolute;
            top: -20px; /* 박스 상단에서 조금 더 위로 위치 */
            left: 50%;
            transform: translateX(-50%);
            width: calc(200px * 0.9);
            height: calc((200px * 0.9) * 1.3944);
            backface-visibility: hidden;
            transform-origin: bottom center; /* 아래쪽을 기준으로 회전 */
        }

        .card-layer--1 {
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/fwa-cards-01.png') no-repeat center center;
            background-size: cover;
        }

        .card-layer--2 {
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/fwa-cards-02.png') no-repeat center center;
            background-size: cover;
        }

        .card-layer--3 {
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/fwa-cards-03.png') no-repeat center center;
            background-size: cover;
        }

        .card-layer--4 {
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/fwa-cards-04.png') no-repeat center center;
            background-size: cover;
        }

        .card-layer--5 {
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/61488/fwa-cards-05.png') no-repeat center center;
            background-size: cover;
        }
    </style>
</head>
<body>

    <div class="main-image">
        <img src="cake1.png" alt="Halloween Ghost">
    </div>

    <div class="main-text text-margin">
        The Halloween ghost is still wandering around, hiding its secrets. Don’t be deceived by what you see! <br>
        PS: Sweet, Tangy, and Sour!
    </div>

    <div class="card">
        <div class="box">
            <div class="box__face box__front"></div>
            <div class="box__face box__back"></div>
            <div class="box__face box__left"></div>
            <div class="box__face box__right"></div>
            <div class="box__face box__bottom"></div>
            <div class="box__face box__lid"></div>

            <div class="card-layer card-layer--1"></div>
            <div class="card-layer card-layer--2"></div>
            <div class="card-layer card-layer--3"></div>
            <div class="card-layer card-layer--4"></div>
            <div class="card-layer card-layer--5"></div>
        </div>
    </div>


    <div class="cake_inner">
        <img src="cake2.png" alt="Cake Image 1">
        <img src="cake3.png" alt="Cake Image 2">
        <img src="cake2.png" alt="Cake Image 3">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script>
        function animateCards() {
            const tl = gsap.timeline({ repeat: -1, repeatDelay: 1 });

            // 카드 박스 자체 회전 애니메이션
            tl.to(".box", {
                rotateY: 360,
                ease: "power2.inOut",
                duration: 2,
            }, 0);

            // 카드 레이어들이 순차적으로 퍼져나갔다가 돌아오는 애니메이션
            tl.to(".card-layer--1", { y: "-150%", rotation: 45, x: "40%", ease: "power2", duration: 0.8 }, 0)
              .to(".card-layer--2", { y: "-150%", rotation: 25, x: "20%", ease: "power2", duration: 0.8 }, 0.1)
              .to(".card-layer--3", { y: "-150%", rotation: 0, x: "0%", ease: "power2", duration: 0.8 }, 0.2)
              .to(".card-layer--4", { y: "-150%", rotation: -25, x: "-20%", ease: "power2", duration: 0.8 }, 0.3)
              .to(".card-layer--5", { y: "-150%", rotation: -45, x: "-40%", ease: "power2", duration: 0.8 }, 0.4)

              .to(".card-layer--1", { y: "0%", rotation: 0, x: "0%", ease: "sine.in", duration: 0.6 }, "+=0.4")
              .to(".card-layer--2", { y: "0%", rotation: 0, x: "0%", ease: "sine.in", duration: 0.6 }, "+=0.5")
              .to(".card-layer--3", { y: "0%", rotation: 0, x: "0%", ease: "sine.in", duration: 0.6 }, "+=0.6")
              .to(".card-layer--4", { y: "0%", rotation: 0, x: "0%", ease: "sine.in", duration: 0.6 }, "+=0.7")
              .to(".card-layer--5", { y: "0%", rotation: 0, x: "0%", ease: "sine.in", duration: 0.6 }, "+=0.8");
        }

        function init() {
            animateCards();
        }

        window.onload = (event) => {
            init();
        };
    </script>

</body>
</html>
